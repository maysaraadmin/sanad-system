# نظام السند - Sanad System

نظام شامل لإدارة الأحاديث النبوية والأسانيد مع نظام مصادقة متكامل وملفات شخصية للمستخدمين.

## المميزات الرئيسية

### نظام المصادقة والمستخدمين
- **تسجيل المستخدمين الجدد** مع نموذج تسجيل متقدم
- **تسجيل الدخول والخروج** مع واجهة مستخدم حديثة
- **الملفات الشخصية للمستخدمين** مع إمكانية رفع الصور
- **تعديل المعلومات الشخصية** والإعدادات
- **تغيير كلمة المرور** مع فحص قوة كلمة المرور
- **تتبع أنشطة المستخدمين** وسجل العمليات

### إدارة الأحاديث والأسانيد
- **عرض الأحاديث** مع إمكانية التصفية والبحث
- **تفاصيل الأحاديث** مع معلومات المصدر والدرجة
- **إدارة الرواة** مع معلومات السيرة الذاتية
- **نظام الأسانيد** مع ترتيب الرواة
- **تصنيف الأحاديث** حسب الموضوعات
- **البحث المتقدم** في النصوص والرواة

### الواجهة والتصميم
- **تصميم متجاوب** يعمل على جميع الأجهزة
- **دعم اللغة العربية** مع اتجاه RTL
- **نمط مظلم/فاتح** قابل للتبديل
- **واجهة مستخدم حديثة** مع Bootstrap 5
- **رسوم متحركة وتأثيرات** تفاعلية
- **رسائل النظام** والتنبيهات

## متطلبات النظام

- Python 3.8+
- Django 4.2+
- SQLite (افتراضي) أو PostgreSQL/MySQL
- Pillow لمعالجة الصور

## التثبيت والإعداد

### 1. إعداد البيئة الافتراضية

```bash
python -m venv venv
source venv/bin/activate  # على Linux/Mac
# أو
venv\Scripts\activate  # على Windows
```

### 2. تثبيت المتطلبات

```bash
pip install -r requirements.txt
```

### 3. إعداد قاعدة البيانات

```bash
python manage.py makemigrations
python manage.py migrate
```

### 4. إنشاء مستخدم إداري

```bash
python manage.py createsuperuser
```

### 5. تشغيل الخادم

```bash
python manage.py runserver
```

الآن يمكنك الوصول للتطبيق على: `http://127.0.0.1:8000`

## هيكل المشروع

```
sanad_system/
├── sanad_system/           # إعدادات المشروع الرئيسية
│   ├── __init__.py
│   ├── settings.py         # إعدادات Django
│   ├── urls.py            # URLs الرئيسية
│   └── wsgi.py
├── hadith_app/            # تطبيق الأحاديث الرئيسي
│   ├── migrations/        # ملفات الهجرة
│   ├── templates/         # قوالب HTML
│   │   ├── hadith_app/
│   │   └── registration/  # قوالب المصادقة
│   ├── __init__.py
│   ├── admin.py          # إعدادات لوحة الإدارة
│   ├── apps.py           # إعدادات التطبيق
│   ├── context_processors.py
│   ├── forms.py          # نماذج Django
│   ├── models.py         # نماذج قاعدة البيانات
│   ├── urls.py           # URLs التطبيق
│   └── views.py          # العروض والمنطق
├── static/               # الملفات الثابتة
├── media/                # ملفات المستخدمين المرفوعة
├── logs/                 # ملفات السجلات
├── manage.py             # أداة إدارة Django
├── requirements.txt      # متطلبات Python
└── README.md            # هذا الملف
```

## النماذج (Models)

### UserProfile
ملف شخصي موسع للمستخدمين يتضمن:
- النبذة الشخصية
- الموقع الجغرافي
- تاريخ الميلاد
- رقم الهاتف
- صورة الملف الشخصي
- حالة العالم/الباحث
- التخصص

### Hadith
نموذج الأحاديث النبوية:
- نص الحديث
- المصدر
- رقم الصفحة
- رقم الحديث في المصدر
- درجة الحديث (صحيح، حسن، ضعيف، موضوع)
- التصنيفات
- معلومات الإنشاء

### Narrator
نموذج الرواة:
- اسم الراوي
- سنة الميلاد والوفاة
- السيرة الذاتية
- درجة التوثيق
- معلومات الإنشاء

### Sanad
نموذج الأسانيد:
- الحديث المرتبط
- الرواة مع ترتيبهم
- حالة التواتر
- ملاحظات

### UserActivity
تتبع أنشطة المستخدمين:
- نوع النشاط
- الوصف
- الوقت
- عنوان IP

## الصفحات والوظائف

### صفحات المصادقة
- `/register/` - تسجيل مستخدم جديد
- `/login/` - تسجيل الدخول
- `/logout/` - تسجيل الخروج

### صفحات الملف الشخصي
- `/profile/` - عرض الملف الشخصي
- `/profile/edit/` - تعديل الملف الشخصي
- `/profile/change-password/` - تغيير كلمة المرور

### صفحات المحتوى
- `/` - الصفحة الرئيسية
- `/hadiths/` - قائمة الأحاديث
- `/hadith/<id>/` - تفاصيل الحديث
- `/narrators/` - قائمة الرواة
- `/narrator/<id>/` - تفاصيل الراوي
- `/search/` - البحث

## الميزات المتقدمة

### نظام الثيمات
- تبديل بين النمط الفاتح والمظلم
- حفظ التفضيل في الجلسة
- تطبيق فوري للتغييرات

### تتبع الأنشطة
- تسجيل تلقائي لأنشطة المستخدمين
- تتبع عنوان IP
- عرض الأنشطة الأخيرة في الملف الشخصي

### الأمان
- حماية CSRF
- تشفير كلمات المرور
- فحص قوة كلمة المرور
- حماية الصفحات المحمية

### الاستجابة والتفاعل
- تصميم متجاوب لجميع الأجهزة
- رسوم متحركة CSS
- تأثيرات التمرير
- تحديث فوري للواجهة

## لوحة الإدارة

يمكن الوصول للوحة الإدارة على `/admin/` وتتضمن:
- إدارة المستخدمين والملفات الشخصية
- إدارة الأحاديث والتصنيفات
- إدارة الرواة والأسانيد
- عرض أنشطة المستخدمين
- إعدادات النظام

## التخصيص والتطوير

### إضافة ميزات جديدة
1. إنشاء النماذج في `models.py`
2. إنشاء النماذج في `forms.py`
3. إنشاء العروض في `views.py`
4. إنشاء القوالب في `templates/`
5. إضافة URLs في `urls.py`

### تخصيص التصميم
- تعديل ملفات CSS في القوالب
- استخدام متغيرات CSS للألوان
- إضافة JavaScript للتفاعل

### إعدادات الإنتاج
في `settings.py`:
```python
DEBUG = False
ALLOWED_HOSTS = ['your-domain.com']
SECURE_SSL_REDIRECT = True
SESSION_COOKIE_SECURE = True
CSRF_COOKIE_SECURE = True
```

## الدعم والمساهمة

### الإبلاغ عن المشاكل
- استخدم نظام Issues في GitHub
- قدم وصفاً مفصلاً للمشكلة
- أرفق لقطات شاشة إن أمكن

### المساهمة في التطوير
1. Fork المشروع
2. إنشاء فرع للميزة الجديدة
3. Commit التغييرات
4. Push للفرع
5. إنشاء Pull Request

## الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف LICENSE للتفاصيل.

## الشكر والتقدير

- Django Framework
- Bootstrap 5
- Bootstrap Icons
- Google Fonts (Noto Sans Arabic)

---

تم تطوير هذا النظام لخدمة الباحثين والمهتمين بعلوم الحديث النبوي الشريف.

